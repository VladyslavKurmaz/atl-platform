module.exports = {
  tags: (context) => [],
  envs: (context) => ['.env'],
  options: (context) => [],
  depends: () => ['android-sdk-26.1.1'],
  inherits: (context) => ['sdlc', 'cordova'],
  variables: (context) => [],
  steps: (context) => [
    {
      id: 'build',
      script: (context) => context.setScript([
        'rm -rf ./www',
        'cp -R ../../static/html/mobile ./www',
        'sed -i -e "s|</app-root>|$(cat ./cordova.patch)|g" ./www/index.html',
        'cordova build android'
      ])
    },
    {
      id: 'deploy',
      script: (context) => context.setScript([
        'adb install platforms/android/app/build/outputs/apk/debug/app-debug.apk'
      ])
    },
    {
      id: 'undeploy',
      script: (context) => context.setScript([
        'adb uninstall ${COMPONENT_ID}'
      ])
    }
  ],
  components: (context) => []
}